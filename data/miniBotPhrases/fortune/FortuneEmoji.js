/**
 * æ·ºè‰ç±¤è©©è¡¨æƒ…ç¬¦è™Ÿå·¥å…·
 */

// ç±¤è©©é¡žåž‹è¡¨æƒ…ç¬¦è™Ÿ
export const fortuneTypeEmojis = {
  å¤§å‰: ["ðŸŒŸ", "âœ¨", "ðŸŽ‰", "ðŸŽŠ", "ðŸ’«", "â­"],
  å‰: ["ðŸ˜Š", "ðŸ€", "â˜€ï¸", "ðŸŒˆ", "ðŸŒ¸", "ðŸ’š"],
  å°å‰: ["ðŸŒ¿", "ðŸŒ±", "ðŸ•Šï¸", "ðŸŒ¤ï¸", "ðŸ’™", "ðŸƒ"],
  æœ«å‰: ["ðŸ˜Œ", "ðŸŒ¾", "â°", "ðŸ¤—", "ðŸŒ™", "ðŸ’›"],
  å‡¶: ["ðŸŒ™", "â˜ï¸", "ðŸ’™", "ðŸ›¡ï¸", "ðŸ¤–", "âš¡"],
};

// å•é¡Œé¡žåˆ¥è¡¨æƒ…ç¬¦è™Ÿ
export const categoryEmojis = {
  æ„›æƒ…: ["ðŸ’•", "ðŸ’–", "ðŸ’", "ðŸ’Œ", "ðŸŒ¹", "ðŸ’‘"],
  äº‹æ¥­: ["ðŸ’¼", "ðŸ“ˆ", "ðŸŽ¯", "ðŸ”§", "ðŸ’ª", "ðŸ†"],
  å­¸æ¥­: ["ðŸ“š", "ðŸŽ“", "âœï¸", "ðŸ§ ", "ðŸ“–", "ðŸ–Šï¸"],
  å¥åº·: ["ðŸ’Š", "ðŸƒâ€â™‚ï¸", "ðŸ˜´", "ðŸ§˜â€â™€ï¸", "ðŸ’š", "ðŸŒ±"],
  è²¡é‹: ["ðŸ’°", "ðŸ¦", "ðŸ’Ž", "ðŸ“Š", "ðŸ’¸", "ðŸª™"],
  æ—…è¡Œ: ["âœˆï¸", "ðŸ—ºï¸", "ðŸŽ’", "ðŸŒ", "ðŸš—", "ðŸ–ï¸"],
  æ¬å®¶: ["ðŸ“¦", "ðŸ ", "ðŸšš", "ðŸ”‘", "ðŸ¡", "ðŸ“‹"],
  è“‹æˆ¿: ["ðŸ—ï¸", "ðŸ ", "ðŸ”¨", "ðŸ§±", "ðŸ¡", "ðŸ”§"],
};

// æ™‚é–“ç›¸é—œè¡¨æƒ…ç¬¦è™Ÿ
export const timeEmojis = {
  æ—©æ™¨: ["ðŸŒ…", "â˜€ï¸", "ðŸ“", "ðŸŒž"],
  ä¸­åˆ: ["â˜€ï¸", "ðŸŒž", "ðŸ”¥", "ðŸ’«"],
  å‚æ™š: ["ðŸŒ†", "ðŸŒ‡", "ðŸŒ¤ï¸", "âœ¨"],
  å¤œæ™š: ["ðŸŒ™", "â­", "ðŸŒŸ", "ðŸ’«"],
  æ˜¥å¤©: ["ðŸŒ¸", "ðŸŒ±", "ðŸŒ¿", "ðŸ¦‹"],
  å¤å¤©: ["â˜€ï¸", "ðŸŒ»", "ðŸ–ï¸", "ðŸ‰"],
  ç§‹å¤©: ["ðŸ‚", "ðŸŽƒ", "ðŸŒ¾", "ðŸ"],
  å†¬å¤©: ["â„ï¸", "â›„", "ðŸŽ¿", "ðŸ”¥"],
};

// æƒ…ç·’è¡¨æƒ…ç¬¦è™Ÿ
export const emotionEmojis = {
  é–‹å¿ƒ: ["ðŸ˜Š", "ðŸ˜„", "ðŸ¥°", "ðŸ˜", "ðŸ¤—", "ðŸ’•"],
  å®‰æ…°: ["ðŸ¤—", "ðŸ’™", "ðŸ•Šï¸", "ðŸŒ¸", "ðŸ¤²", "ðŸ’š"],
  é¼“å‹µ: ["ðŸ’ª", "ðŸŒŸ", "ðŸ”¥", "âš¡", "ðŸŽ¯", "ðŸš€"],
  å¹³éœ: ["ðŸ˜Œ", "ðŸ§˜â€â™€ï¸", "ðŸ•Šï¸", "ðŸŒ¿", "â˜®ï¸", "ðŸ’™"],
  å¸Œæœ›: ["ðŸŒˆ", "â­", "ðŸŒŸ", "ðŸ’«", "ðŸŒ…", "ðŸ¦‹"],
};

// ç‰¹æ®Šå ´åˆè¡¨æƒ…ç¬¦è™Ÿ
export const specialEmojis = {
  ç¥ˆç¦: ["ðŸ™", "â›©ï¸", "ðŸ®", "ðŸŽ‹", "ðŸ””", "âœ¨"],
  æ…¶ç¥: ["ðŸŽ‰", "ðŸŽŠ", "ðŸ¥³", "ðŸŽˆ", "ðŸŽ", "ðŸ¾"],
  è­¦å‘Š: ["âš ï¸", "ðŸš¨", "â›”", "ðŸ›‘", "ðŸ’”", "ðŸ”´"],
  ç¥žè–: ["â›©ï¸", "ðŸ™", "âœ¨", "ðŸ’«", "ðŸŒŸ", "ðŸ•¯ï¸"],
};

/**
 * éš¨æ©Ÿç²å–ç‰¹å®šé¡žåž‹çš„è¡¨æƒ…ç¬¦è™Ÿ
 * @param {string} type è¡¨æƒ…ç¬¦è™Ÿé¡žåž‹
 * @param {Object} emojiSet è¡¨æƒ…ç¬¦è™Ÿé›†åˆ
 * @returns {string} éš¨æ©Ÿè¡¨æƒ…ç¬¦è™Ÿ
 */
function getRandomEmoji(type, emojiSet) {
  const emojis = emojiSet[type];
  if (!emojis || emojis.length === 0) return "";
  return emojis[Math.floor(Math.random() * emojis.length)];
}

/**
 * ç²å–ç±¤è©©é¡žåž‹è¡¨æƒ…ç¬¦è™Ÿ
 * @param {string} fortuneType ç±¤è©©é¡žåž‹
 * @returns {string} è¡¨æƒ…ç¬¦è™Ÿ
 */
export function getFortuneTypeEmoji(fortuneType) {
  return getRandomEmoji(fortuneType, fortuneTypeEmojis);
}

/**
 * ç²å–å•é¡Œé¡žåˆ¥è¡¨æƒ…ç¬¦è™Ÿ
 * @param {string} category å•é¡Œé¡žåˆ¥
 * @returns {string} è¡¨æƒ…ç¬¦è™Ÿ
 */
export function getCategoryEmoji(category) {
  return getRandomEmoji(category, categoryEmojis);
}

/**
 * ç²å–æ™‚é–“ç›¸é—œè¡¨æƒ…ç¬¦è™Ÿ
 * @param {string} timeType æ™‚é–“é¡žåž‹
 * @returns {string} è¡¨æƒ…ç¬¦è™Ÿ
 */
export function getTimeEmoji(timeType) {
  return getRandomEmoji(timeType, timeEmojis);
}

/**
 * ç²å–æƒ…ç·’è¡¨æƒ…ç¬¦è™Ÿ
 * @param {string} emotion æƒ…ç·’é¡žåž‹
 * @returns {string} è¡¨æƒ…ç¬¦è™Ÿ
 */
export function getEmotionEmoji(emotion) {
  return getRandomEmoji(emotion, emotionEmojis);
}

/**
 * ç²å–ç‰¹æ®Šå ´åˆè¡¨æƒ…ç¬¦è™Ÿ
 * @param {string} occasion ç‰¹æ®Šå ´åˆ
 * @returns {string} è¡¨æƒ…ç¬¦è™Ÿ
 */
export function getSpecialEmoji(occasion) {
  return getRandomEmoji(occasion, specialEmojis);
}

/**
 * æ ¹æ“šç•¶å‰æ™‚é–“ç²å–é©åˆçš„è¡¨æƒ…ç¬¦è™Ÿ
 * @returns {string} è¡¨æƒ…ç¬¦è™Ÿ
 */
export function getCurrentTimeEmoji() {
  const hour = new Date().getHours();

  if (hour >= 5 && hour < 12) {
    return getTimeEmoji("æ—©æ™¨");
  } else if (hour >= 12 && hour < 17) {
    return getTimeEmoji("ä¸­åˆ");
  } else if (hour >= 17 && hour < 20) {
    return getTimeEmoji("å‚æ™š");
  } else {
    return getTimeEmoji("å¤œæ™š");
  }
}

/**
 * æ ¹æ“šå­£ç¯€ç²å–è¡¨æƒ…ç¬¦è™Ÿ
 * @returns {string} è¡¨æƒ…ç¬¦è™Ÿ
 */
export function getSeasonEmoji() {
  const month = new Date().getMonth() + 1;

  if (month >= 3 && month <= 5) {
    return getTimeEmoji("æ˜¥å¤©");
  } else if (month >= 6 && month <= 8) {
    return getTimeEmoji("å¤å¤©");
  } else if (month >= 9 && month <= 11) {
    return getTimeEmoji("ç§‹å¤©");
  } else {
    return getTimeEmoji("å†¬å¤©");
  }
}

/**
 * ç²å–çµ„åˆè¡¨æƒ…ç¬¦è™Ÿå­—ä¸²
 * @param {Array} types è¡¨æƒ…ç¬¦è™Ÿé¡žåž‹é™£åˆ—
 * @returns {string} çµ„åˆè¡¨æƒ…ç¬¦è™Ÿ
 */
export function getCombinedEmojis(types) {
  const emojis = [];

  types.forEach((type) => {
    if (fortuneTypeEmojis[type]) {
      emojis.push(getFortuneTypeEmoji(type));
    } else if (categoryEmojis[type]) {
      emojis.push(getCategoryEmoji(type));
    } else if (emotionEmojis[type]) {
      emojis.push(getEmotionEmoji(type));
    } else if (specialEmojis[type]) {
      emojis.push(getSpecialEmoji(type));
    }
  });

  return emojis.join(" ");
}
